# USSD Flow Load Testing

This directory contains load testing configurations for USSD flows generated by the USSD Editor.

## Tools Available

### 1. JMeter (GUI & Command Line)
- **File**: `ussd-flow-load-test.jmx`
- **Usage**: Import into JMeter GUI or run via command line
- **Best for**: Complex scenarios, detailed reporting, enterprise environments

### 2. Artillery.js (Node.js based)
- **File**: `artillery-config.yml`
- **Usage**: Run with `artillery run artillery-config.yml`
- **Best for**: Quick testing, CI/CD integration, JavaScript ecosystem

### 3. K6 (Modern load testing)
- **File**: `k6-ussd-test.js`
- **Usage**: Run with `k6 run k6-ussd-test.js`
- **Best for**: Developer-friendly, cloud native, high performance

### 4. Custom Node.js Script
- **File**: `custom-load-test.js`
- **Usage**: Run with `node custom-load-test.js`
- **Best for**: Custom logic, specific USSD flow testing

## Flow Structure

Your USSD flows export in this format:
```json
{
  "nodes": [
    {
      "id": "start_123",
      "type": "START",
      "transitions": {
        "*123#": "menu_456"
      },
      "nextNodeType": "MENU",
      "nextNodePrompts": {
        "en": "Welcome! Choose option:\\n1. Balance\\n2. Transfer"
      }
    },
    {
      "id": "menu_456", 
      "type": "MENU",
      "transitions": {
        "1": "action_789",
        "2": "input_101"
      },
      "nextNodesMetadata": {
        "1": { "nextNodeType": "ACTION", "nextNodeTemplateId": "balance" },
        "2": { "nextNodeType": "INPUT", "nextNodeStoreAttribute": "amount" }
      }
    }
  ]
}
```

## Test Scenarios

### 1. Basic Flow Testing
- Test complete user journeys through USSD flows
- Validate response times for each step
- Check for proper state management

### 2. Concurrent User Testing  
- Simulate multiple users accessing USSD simultaneously
- Test session management and isolation
- Validate system performance under load

### 3. Error Scenario Testing
- Test invalid inputs and error handling
- Timeout scenarios
- Recovery from failures

### 4. Peak Load Testing
- Determine maximum concurrent users
- Find performance bottlenecks
- Test system scalability

## Getting Started

1. **Choose your tool** based on your needs and environment
2. **Configure endpoints** in the test files to point to your USSD gateway
3. **Update test data** with your actual USSD codes and expected responses
4. **Run tests** and analyze results
5. **Optimize** your USSD implementation based on findings

## Configuration

Before running tests, update these variables in each test file:
- `BASE_URL`: Your USSD gateway endpoint
- `USSD_CODES`: The USSD codes from your flows
- `EXPECTED_RESPONSES`: Expected responses for validation
- `LOAD_PARAMETERS`: Users, duration, ramp-up time
